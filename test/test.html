<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Jasmine Spec Runner</title>

	<link rel="shortcut icon" type="image/png" href="lib/jasmine-1.3.1/jasmine_favicon.png">
	<link rel="stylesheet" type="text/css" href="lib/jasmine-1.3.1/jasmine.css">
	<script type="text/javascript" src="lib/jasmine-1.3.1/jasmine.js"></script>
	<script type="text/javascript" src="lib/jasmine-1.3.1/jasmine-html.js"></script>
	<script type="text/javascript" src="customMatchers.js"></script>

	<!-- include source files here... -->
    <script type="text/javascript" src="../modules/TobliDate.js"></script>
    <script type="text/javascript" src="../modules/TobliLogger.js"></script>
	<script type="text/javascript" src="../modules/DependancyInjectionContainer.js"></script>
	<script type="text/javascript" src="../modules/MtGoxApi.js"></script>

	<!-- include spec files here... -->
	<script type="text/javascript" src="spec/SpecCustomMatchers.js"></script>
    <script type="text/javascript" src="spec/SpecTobliDate.js"></script>
    <script type="text/javascript" src="spec/SpecTobliLogger.js"></script>
	<script type="text/javascript" src="spec/SpecDependancyInjectionContainer.js"></script>
	<script type="text/javascript" src="spec/SpecMtGoxApi.js"></script>

	<script type="text/javascript">
	(function() {
		describe("All specs included", function() {
			it("Ensure no suites are ommitted due to syntax errors", function() {
				var i, suiteNames = [];
				var suites = jasmine.getEnv().currentRunner().suites();
				for (i = 0; i < suites.length; i++) {
					suiteNames.push(suites[i].description);
				}
				expect(suites.length).toEqual(6);
				expect('jasmine extensions').toEqualOneOf(suiteNames);
				expect('getTobliDateConstructor').toEqualOneOf(suiteNames);
				expect('getTobliLogger').toEqualOneOf(suiteNames);
				expect('DependancyInjectionContainer').toEqualOneOf(suiteNames);
				expect('getMtGoxApi').toEqualOneOf(suiteNames);
				expect('All specs included').toEqualOneOf(suiteNames);
			});
		});

		var jasmineEnv = jasmine.getEnv();
		jasmineEnv.updateInterval = 1000;

		var htmlReporter = new jasmine.HtmlReporter();

		jasmineEnv.addReporter(htmlReporter);

		jasmineEnv.specFilter = function(spec) {
			  return htmlReporter.specFilter(spec);
		};

		var currentWindowOnload = window.onload;

		window.onload = function() {
			if (currentWindowOnload) {
				currentWindowOnload();
			}
			execJasmine();
		};

		function execJasmine() {
			  jasmineEnv.execute();
		}

	})();
	</script>

</head>

<body>
</body>
</html>
