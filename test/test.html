<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Jasmine Spec Runner</title>

		<link rel="shortcut icon" type="image/png" href="../vendor/pivotal/jasmine/lib/jasmine-1.3.1/jasmine_favicon.png" />
		<link rel="stylesheet" type="text/css" href="../vendor/pivotal/jasmine/lib/jasmine-1.3.1/jasmine.css" />

		<script type="text/javascript" src="../vendor/pivotal/jasmine/lib/jasmine-1.3.1/jasmine.js" ></script>
		<script type="text/javascript" src="../vendor/pivotal/jasmine/lib/jasmine-1.3.1/jasmine-html.js" ></script>
		<script type="text/javascript" src="customMatchers.js" ></script>

		<!-- include source files here... -->
		<script type="text/javascript" src="../modules/TobliDate.js" ></script>
		<script type="text/javascript" src="../modules/TobliLogger.js" ></script>
		<script type="text/javascript" src="../modules/DependancyInjectionContainer.js" ></script>

		<!-- include spec files here... -->
		<script type="text/javascript" src="spec/SpecCustomMatchers.js" ></script>
		<script type="text/javascript" src="spec/SpecTobliDate.js" ></script>
		<script type="text/javascript" src="spec/SpecTobliLogger.js" ></script>
		<script type="text/javascript" src="spec/SpecDependancyInjectionContainer.js" ></script>

		<script type="text/javascript">
			// <![CDATA[
				(function() {
					describe("All specs included", function() {
						it("Ensure no suites are ommitted due to syntax errors", function() {
							var i, suiteNames = [];
							var suites = jasmine.getEnv().currentRunner().suites();
							for (i = 0; i < suites.length; i++) {
								suiteNames.push(suites[i].description);
							}
							expect(suites.length).toEqual(5);
							expect('jasmine extensions').toEqualOneOf(suiteNames);
							expect('getTobliDateConstructor').toEqualOneOf(suiteNames);
							expect('getTobliLogger').toEqualOneOf(suiteNames);
							expect('DependancyInjectionContainer').toEqualOneOf(suiteNames);
							expect('All specs included').toEqualOneOf(suiteNames);
						});
					});

					var jasmineEnv = jasmine.getEnv();
					jasmineEnv.updateInterval = 1000;

					var htmlReporter = new jasmine.HtmlReporter();

					jasmineEnv.addReporter(htmlReporter);

					jasmineEnv.specFilter = function(spec) {
						return htmlReporter.specFilter(spec);
					};

					var currentWindowOnload = window.onload;

					window.onload = function() {
						if (currentWindowOnload) {
							currentWindowOnload();
						}
						execJasmine();
					};

					function execJasmine() {
						jasmineEnv.execute();
					}
				})();
			// ]]>
		</script>
	</head>

	<body></body>
</html>
